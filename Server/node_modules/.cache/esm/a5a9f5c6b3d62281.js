let User,generateAccessToken;_b3d‍.x([["login",()=>login]]);_b3d‍.w("../Models/User",[["User",["User"],function(v){User=v}]]);_b3d‍.w("../utils/jwtGenerator",[["generateAccessToken",["generateAccessToken"],function(v){generateAccessToken=v}]]);


// Controller function to create a new user
       const login = async (req, res) => {
    const { email, password} = req.body;

    const users = await User.findAll();

    if(users){
        users.forEach(user => {
            if(user.dataValues.email == email && user.dataValues.password == password){
                const token = generateAccessToken(user.dataValues);
                res.status(201).json(token);
            }else{
                _b3d‍.g.console.error('Error fetching users:', error);
                res.status(500).send('Internal Server Error');
            }
        });
    }
    else{
        _b3d‍.g.console.error('Error fetching users:', error);
        res.status(500).send('Internal Server Error');
    }
};